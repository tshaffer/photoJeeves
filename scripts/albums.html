<html>

<head>
  <style>
    .selected {
      color: red;
    }

    #customers {
      font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }

    #customers td,
    #customers th {
      border: 1px solid #ddd;
      padding: 8px;
    }

    #customers tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    #customers tr:hover {
      background-color: #ddd;
    }

    #customers th {
      padding-top: 12px;
      padding-bottom: 12px;
      text-align: left;
      background-color: #4CAF50;
      color: white;
    }
  </style>
</head>

<body id="bodyId" style="background-color:#d3d3d3">
  <h1 style="color:white">Photo Jeeves albums</h1>
  <table id="customers">
    <tr>
      <th>Company</th>
      <th>Contact</th>
      <th>Country</th>
    </tr>
    <tr>
      <td>Alfreds Futterkiste</td>
      <td>Maria Anders</td>
      <td>Germany</td>
    </tr>
    <tr>
      <td>Berglunds snabbk√∂p</td>
      <td>Christina Berglund</td>
      <td>Sweden</td>
    </tr>
    <tr>
      <td>Centro comercial Moctezuma</td>
      <td>Francisco Chang</td>
      <td>Mexico</td>
    </tr>
  </table>
</body>

<script type="text/javascript">

  console.log('eat pizza');

  var bsMessagePort = new BSMessagePort()

  bsMessagePort.onbsmessage = function (msg) {
    console.log("bsMessage.onbsmessage - entry");
    console.log(msg);
    console.log(msg.data);
    console.log(msg.data.pizzatopping);
    console.log(Object.keys(msg.data));
    highlightRow(2);
  }

  function highlightRow(rowIndex) {
    var table = document.getElementById('customers');
    var selectedRow = table.getElementsByTagName('tr')[rowIndex];
    selectedRow.style.backgroundColor = "yellow";
    selectedRow.className += " selected";
  }

//   function highlight_row() {
//     var table = document.getElementById('customers');
//     var cells = table.getElementsByTagName('td');

//     for (var i = 0; i < cells.length; i++) {
//         // Take each cell
//         var cell = cells[i];

//         // do something on onclick event for cell
//         cell.onclick = function () {
//             // Get the row id where the cell exists
//             var rowId = this.parentNode.rowIndex;

//             var rowsNotSelected = table.getElementsByTagName('tr');
//             for (var row = 0; row < rowsNotSelected.length; row++) {
//                 rowsNotSelected[row].style.backgroundColor = "";
//                 rowsNotSelected[row].classList.remove('selected');
//             }
//             var rowSelected = table.getElementsByTagName('tr')[rowId];
//             rowSelected.style.backgroundColor = "yellow";
//             rowSelected.className += " selected";

//             msg = 'The ID of the company is: ' + rowSelected.cells[0].innerHTML;
//             msg += '\nThe cell value is: ' + this.innerHTML;
//             alert(msg);
//         }
//     }

// } //end of function



</script>

</html>